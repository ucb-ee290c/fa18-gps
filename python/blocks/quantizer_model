def quantizer(self, vol, amp, num_bits):
    lsb = amp / 2 ** (num_bits - 1)  # = 2 * amp / 2**num_bits
    if isinstance(vol, int) or isinstance(vol, float):
        # shift all voltage by half LSB to solve the imbalance of // calculation
        return (vol + lsb / 2) // lsb * lsb
    elif isinstance(vol[0], int) or isinstance(vol[0], float):
        quant_data = []
        for v in vol:
            quant_data.append((v + lsb / 2) // lsb * lsb)
        return quant_data
    else:
        raise ValueError("Vol could only be float, int, list or numpy array of float and int.")